<!DOCTYPE html>
<html lang="es">

<!--
HTML
web o pagina:
entorno: curso Accenture-CMV
autor: Carlos Boni
fecha: Mayo 2021
-->

<head>
	<meta charset="UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content= "IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1"/>

	<!-- polyfill para soportar CSS3 Media Queries en MS explorer viejos -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	  <!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	  <![endif]-->
	  
	<!-- importante SEO para la etiqueta del navegador -->
	<title>Javascript</title>
	
	<!-- una fuente de Google -->
	<link rel="preconnect" href="https://fonts.gstatic.com"/>
	<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@200&display=swap" rel="stylesheet"/>
	
	<!-- una hoja de estilos externa-->
	
	<!-- una hoja de estilos personalizada-->

	
	<!-- iconos u otros elementos externos -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>
	

	<!-- solo aquellos estilos que solo aplican a esta pagina -->
    <style>
        <style>
body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
}

.topnav {
  overflow: hidden;
  background-color: #333;
}

.topnav a {
  float: left;
  color: #f2f2f2;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}

.topnav a:hover {
  background-color: #ddd;
  color: black;
}

.topnav a.active {
  background-color: #04AA6D;
  color: white;
}
</style>
	
	</style>
	
		<!-- Importar JQuery-->
	
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	
	<!-- scripts externos de desarrollo propio en Javascript o JQuery -->

	
</head>


<body onload="cargaPagina()">

	<!-- cabecera de pagina -->
	<header>
		<h1>Ejercicios JS</h1>
		<h2>WEBSTORAGE </h2>
		<h2>sessionStorage</h2>
        <br/>
      
		
	</header>
	
	<!-- bloque de contenido de la pagina -->
	<main>
        
<div class="topnav">
    <a  href="usuariomenu.html">Inicio</a>
    <a class="active" href="">Pag2</a>
    
  </div>
  
  <h2>Usted es <span id="msgUsr"></span></h2>
		
	        <!--area para ingreso. la oculto con .hide-->
        <section id="acceso">
            <p>Ingrese su usuario:</p>
            <input type="text" id="usuario" name="usr"  maxlength="10" placeholder="(usuario)">
      
            <button onclick="ingresar()">Entrar</button>
            <br/>
        </section>
        <section id="desconectar">
            <button onclick="salir()">Salir</button>
        </section>


		<p>Elige un color de fondo:</p>
		<input type="color" id="micolor" name="favcolor" value="#ffffff">
		
		<button onclick="cambiarColor()">Aplicar</button>

	</main>


	<!-- pie de pagina -->
	<footer>
		<br/><br/><br/>
		<div>&copy; 2021 <a href= target="_blank">Mariana Sueiro</a></div>
	</footer>

	<script>
        function salir(){
            sessionStorage.removeItem("usuarioLogueado");
            location.reload();

        }
        function cargaPagina(){
            iniColorFondo();
            mostrarUsuario();
        }
        function ingresar(){
            sessionStorage.setItem("usuarioLogueado",$("#usuario").val());
           mostrarUsuario();
        }

        function mostrarUsuario(){
            if (sessionStorage.getItem("usuarioLogueado")){
                $("#msgUsr").text(sessionStorage.getItem("usuarioLogueado"));
                $("#acceso").hide();
                $("#desconectar").show();
			}
            else{
                $("#msgUsr").text(sessionStorage.getItem("usuarioLogueado"));
                $("#desconectar").hide();
                $("#acceso").show();
            }
            
        }
		
		function iniColorFondo(){
			if (localStorage.getItem("colorDeFondo")){
				$("body").css("background-color",localStorage.getItem("colorDeFondo"));
			}
		}
		
		function cambiarColor() {
			// obtengo el color de la elecci√≥n del formulario
			let colorFondo=$("#micolor").val();
			
			// aplico el color al fondo de la pagina
			$("body").css("background-color",colorFondo);

			// lo recuerdo de forma permanente
			localStorage.setItem("colorDeFondo",colorFondo);

			// para recordar solo hasta que finalice la sesion
			// sessionStorage.setItem("colorDeFondo",colorFondo);
			

		}
	</script>
		
</body>
</html>
